{% load i18n %}
{% load static %}
{% load notifications_tags %}
{% load app_extras %}

{% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as LANGUAGES %}
{% get_countries as countries %}
{% get_session_country as session_country %}

<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
{% block head %}
<head>
	{% block title %}
	{% endblock title %}

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
	<link rel="shortcut icon" type="image/x-icon" href="{% static 'icons/favicon.ico' %}">
	<link rel="stylesheet" href="{% static 'css/bootstrap-v5.1.0.min.css' %}"> 
	{% comment %} <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> {% endcomment %}
	<link rel="stylesheet" href="{% static 'css/fa5-all.min.css' %}">
	<link rel="stylesheet" href="{% static 'css/normalize-v8.0.1.min.css' %}">
	{% comment %} <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css"> {% endcomment %}
	{% comment %} <link rel="stylesheet" href="{% static 'minified/css/all.min.css' %}"> {% endcomment %}

	<link rel="stylesheet" href="{% static 'css/colors.css' %}">
	<link rel="stylesheet" href="{% static 'css/all.css' %}">
	{% block extra_css %}
	{% endblock extra_css %}

	{# apparently, if the bootstrap js file is at the body bottom, some stuffs like the share tooltip in concerned files malfunction #}
	<script type="text/javascript" src="{% static 'js/jquery-3.6.0.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'js/bootstrap.bundle.min.js' %}"></script>  
	{% comment %} <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> 
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script> {% endcomment %}

	{% block extra_script_pre %}
	{% endblock extra_script_pre %}
</head>
{% endblock head %}

{% url 'core:my-notifs' as notifs_url %}

<body class="page">
	{% block header %}
	<header class="mb-4 header">
		<div class="bg-gradient header-top">
			<div class="container-fluid row align-items-center pe-lg-0">
				<div 
					class="text-center col-lg-3 
					{% if user.is_authenticated %} me-3 {% else %} me-1 {% endif %}"
				>
					<a class="d-inline-block" href="{% url 'core:home' %}">
						<img src="{% static 'images/yellow-logo.png' %}" class="logo__img" alt="CamerSchools home">
					</a>
				</div>
				<div 
					class="d-none d-lg-block col-lg-5 header-search-form
					{% if user.is_authenticated %} px-0 {% else %} ps-0 {% endif %}">
					<form class="d-flex" method="get" action="{% url 'core:site-search' %}">
						<input 
							class="form-control me-2" 
							type="search" name="keywords" 
							placeholder="{% trans 'Enter your search keywords here...' %}" 
							aria-label="{% trans 'Enter your search keywords' %}">
						<button class="btn btn-outline-success form-submit-button" type="submit">{% trans 'Search' %}</button>
					</form>
				</div>

				<!-- Language select section area(desktop) -->
				{% comment %}
				Ensure the links work after modifying i18n-related settings. 
				see comments under stackoverflow.com/q/18392405/issue-trying-to-change-language-from-django-template#comment81836795_18393243 
				{% endcomment %}
				<div 
					class="d-none d-lg-inline-block col-lg-auto 
					{% if user.is_authenticated %} ps-5 {% else %} ps-3 {% endif %}"
				>
					<div class="dropdown js-langDropdownDesk">
						<form action="{% url 'set_language' %}" method="post">
							{% csrf_token %}
							<button 
								class="dropdown-toggle text-white no-style-button" 
								type="button" 
								id="langDropdown1"
								data-bs-toggle="dropdown"
								aria-expanded="false"
							>
								{{ LANGUAGE_CODE|language_name_local }}
							</button>
							<ul class="dropdown-menu" aria-labelledby="langDropdown1">
								{% for lang_code, lang_name in LANGUAGES %}
								<li 
									class="dropdown-item cursor-pointer 
									{% if LANGUAGE_CODE == lang_code %} active {% endif %}"
								>
									{% with flag_url="icons/"|addstr:lang_code|addstr:".svg" %}
										<button 
											class="no-style-button text-start w-100"
											{% if lang_code != LANGUAGE_CODE %}
											type="submit" 
											name="language" 
											value="{{ lang_code }}" 
											{% else %}
											type="button"
											{% endif %}
										>
											<img class="me-1 header__flag" src="{% static flag_url %}" alt="{{ lang_name }} {% trans 'flag' %}" />
											<span>{{ lang_name }}</span>
										</button>
									{% endwith %}
								</li>
								{% endfor %}
							</ul>
						</form>
					</div>
				</div>

				{% if user.is_authenticated %}
				<ul class="d-none d-lg-block col-lg-2 m-0 px-0 text-center list-inline">
					<li class="list-inline-item text-end">
						<a href="{% url 'core:my-notifs' %}" class="position-relative header-notifs-link">
							<svg class="header-notifs-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="50" height="50" viewBox="0 0 390 390" xml:space="preserve">
								<g style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(-1.6111111111111143 -1.6111111111111143) scale(3.22 3.22)" >
									<path d="M 83.25 74.548 H 6.75 c -1.536 0 -2.864 -0.988 -3.306 -2.457 c -0.441 -1.468 0.122 -3.022 1.401 -3.868 c 0.896 -0.594 1.954 -1.152 3.233 -1.707 c 5.52 -2.514 6.42 -16.025 7.144 -26.882 c 0.182 -2.74 0.355 -5.327 0.59 -7.664 c 1.926 -12.752 8.052 -20.942 18.223 -24.424 C 35.767 3.067 40.169 0 45 0 s 9.233 3.067 10.964 7.546 c 10.171 3.482 16.298 11.671 18.214 24.352 c 0.245 2.409 0.416 4.996 0.6 7.736 c 0.723 10.857 1.624 24.368 7.168 26.893 c 1.255 0.544 2.313 1.102 3.21 1.696 c 1.279 0.846 1.842 2.4 1.4 3.868 C 86.114 73.56 84.785 74.548 83.25 74.548 z M 45 2.934 c -3.818 0 -7.279 2.556 -8.416 6.215 l -0.228 0.733 l -0.732 0.231 c -9.568 3.018 -15.096 10.287 -16.9 22.224 c -0.221 2.216 -0.392 4.779 -0.573 7.493 c -0.816 12.242 -1.74 26.117 -8.88 29.368 c -1.129 0.49 -2.064 0.982 -2.806 1.473 c -0.265 0.175 -0.26 0.409 -0.21 0.575 c 0.051 0.168 0.177 0.368 0.496 0.368 h 76.5 c 0.318 0 0.445 -0.2 0.496 -0.368 c 0.05 -0.166 0.054 -0.4 -0.209 -0.575 h -0.001 c -0.741 -0.491 -1.677 -0.983 -2.782 -1.462 c -7.163 -3.261 -8.088 -17.137 -8.905 -29.379 c -0.181 -2.714 -0.352 -5.277 -0.582 -7.565 c -1.795 -11.864 -7.323 -19.134 -16.891 -22.151 l -0.732 -0.231 L 53.416 9.15 C 52.279 5.49 48.818 2.934 45 2.934 z" style="stroke: {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} black {% else %} white {% endif %}; stroke-width: 2; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} black {% else %} white {% endif %}; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
									<path d="M 33.257 78.292 C 33.277 84.75 38.536 90 45 90 c 6.463 0 11.723 -5.25 11.743 -11.708 H 33.257 z M 45 87.066 c -3.816 0 -7.063 -2.443 -8.285 -5.843 h 16.57 C 52.063 84.623 48.816 87.066 45 87.066 z" style="stroke: {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} black {% else %} white {% endif %}; stroke-width: 2; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} black {% else %} white {% endif %}; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
								</g>
							</svg>
							<span class="d-block header-notifs-link__text {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} link-dark fw-bold {% else %} link-light {% endif %}">{% trans 'Notifications' %}</span>
							{% if user.notifications.unread %}
								<span class="position-absolute translate-middle p-1 rounded-circle bg-warning border notifier-circle">
									<span class="visually-hidden">{% trans 'New notifications' %}</span>
								</span>
							{% endif %}
						</a>
					</li>
					<li class="list-inline-item dropdown ms-2 text-center js-headerAccountInfo">
						{% comment %} 
						no need to set href of this link since click events have been removed and it's a dropdown. also, set role="button" to make aria know its a button 
						and tabindex="0" to make the element navigable via keyboard..(add element to tab navigation order) {% endcomment %}
						<a
							class="header-profile-menu"
							id="profileMenu"
							data-bs-toggle="dropdown"
							aria-expanded="false"
							role="button"
							tabindex="0"
						>
							<svg class="header-profile-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" width="40" height="40" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M17 1.7C11.5335 1.7 6.48243 4.61655 3.74917 9.35C1.0172 14.0835 1.0172 19.9165 3.74917 24.65C6.48246 29.3835 11.5335 32.3 17 32.3C20.4918 32.3133 23.8809 31.1193 26.5917 28.9199C29.9014 26.2557 31.9559 22.3365 32.2602 18.0984C32.5657 13.8603 31.0954 9.68748 28.2003 6.57682C25.3063 3.46636 21.249 1.69986 17.0003 1.69986L17 1.7ZM27.9956 24.411C27.2651 22.1412 25.014 20.2514 21.9925 19.2447C20.7069 20.6405 18.8967 21.4361 17 21.4361C15.1021 21.4347 13.292 20.6405 12.0074 19.2447C8.98463 20.2514 6.73335 22.1413 6.00439 24.411C4.20212 21.7388 3.43579 18.5008 3.8475 15.3041C4.25921 12.1073 5.82242 9.17082 8.24234 7.04174C10.6622 4.91276 13.7752 3.7387 16.9987 3.7387C20.2221 3.7387 23.3353 4.91276 25.7564 7.04041C28.1763 9.16939 29.7395 12.1057 30.1513 15.3027C30.563 18.4995 29.7966 21.7376 27.9957 24.411L27.9956 24.411Z" fill="{% if '/users/' in request.path or '/utilisateurs/' in request.path %} black {% else %} white {% endif %}"></path>
								<path d="M22.5049 13.6092C22.5049 16.9919 20.0399 19.736 17 19.736C13.9586 19.736 11.4937 16.9921 11.4937 13.6092C11.4937 10.2251 13.9587 7.48236 17 7.48236C20.0401 7.48236 22.5049 10.2249 22.5049 13.6092Z" fill="{% if '/users/' in request.path or '/utilisateurs/' in request.path %} black {% else %} white {% endif %}"></path>
							</svg>
							<br>
							<span class="dropdown-toggle {% if '/users/' in request.path or '/utilisateurs/' in request.path %} text-dark fw-bold {% endif %}">
								{% trans 'My Account' %}
								{% comment %} <i class="fas fa-angle-down" aria-hidden="true"></i> {% endcomment %}
							</span>
						</a>
						<div class="dropdown-menu dropdown-menu-end" aria-labelledby="profileMenu">
							<div class="px-4 py-2">
								<a href="{% url 'users:profile-dashboard' %}" class=" header-profile-info" role="button">
									<span class="d-block">{{ user.username }}</span>
									<span class="small text-dark fw-bold">{{ user.full_name|truncatechars:18 }}</span>
								</a>
							</div>
							<hr class="dropdown-divider">
							<a href="{% url 'users:profile-dashboard' %}" class="dropdown-item">{% trans 'Dashboard' %}</a>
							<a href="{% url 'users:profile-dashboard' %}" class="dropdown-item">{% trans 'View Profile' %}</a>
							<a href="{% url 'users:edit-profile' username=user.username %}" class="dropdown-item">{% trans 'Update Profile' %}</a>
							<hr class="dropdown-divider">
							
							<form action="{% url 'users:logout' %}" method="post">
								{% csrf_token %}
								<button type="submit" class="dropdown-item link-danger">{% trans 'Logout' %}</button>
							</form>
							<!-- <a href="{% url 'users:logout' %}" class="dropdown-item link-danger">{% trans 'Logout' %}</a> -->
						</div>
					</li>
				</ul>
				
				{% else %}
				{# register-and-login class #}
				<ul class="d-none d-lg-flex col-lg-2 mb-0">
					<li class="list-inline-item">
						<a href="{% url 'users:register' %}" class="btn link-light fw-bolder register-button">{% trans 'REGISTER' %}</a>
					</li>
					<li class="list-inline-item dropdown ms-2 js-loginDropdown">
						<button
							id="loginMenu"
							type="button"
							href="{% url 'users:login' %}?next={{ request.get_full_path }}"
							class="btn bg-purple link-light fw-bolder login-button" 
							data-bs-toggle="dropdown" 
							aria-expanded="false"
						>
							{% trans 'LOGIN' %}
						</button>
						<form class="dropdown-menu dropdown-menu-end px-2 dropdown-login-form" method="post" action="{% url 'users:login' %}?next={{ request.get_full_path }}" aria-labelledby="loginMenu">
							{% csrf_token %}
							<div class="mt-2 mb-3">
								{# set the name attribute to "username" since Django uses the same name in it's login form #}
								<input type="email" name="username" class="form-control" placeholder="{% trans 'Email address' %}">
							</div>
							<div class="mb-4">
								<input type="password" name="password" class="form-control" placeholder="{% trans 'Password' %}">
							</div>
							<button type="submit" class="d-block w-100 mb-3 py-1 btn btn-lg btn-purple">{% trans 'LOGIN' %}</button>
							<a href="{% url 'users:password-reset' %}" class=" text-decoration-none border-bottom-dotted">{% trans 'Forgot Password' %}</a>
							<hr class="mb-3">
							<a href="{% url 'users:login' %}?next={{ request.get_full_path }}" class="mb-1 d-block text-center link-secondary">{% trans 'Open login form on new page' %}</a>
						</form>
					</li>
				</ul>
				{% endif %}
			</div>
		</div>
		<div class="bg-success header-bottom">
			<nav class="navbar container py-0 ps-xl-0 navbar-expand-xl">
				<button class="navbar-toggler my-1 nav-bar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="{% trans 'Toggle navigation' %}">
					<span class="navbar-toggler-icon nav-bar-toggler__icon" aria-hidden="true"></span>
				</button>

				<!-- Language, notifs & profile section for mobile users -->
				<div class="d-flex align-items-center d-lg-none">
					<div class="dropdown">
						<form action="{% url 'set_language' %}" method="post">
							{% csrf_token %}
							<button 
								class="dropdown-toggle text-white me-3 no-style-button" 
								type="button" 
								id="langDropdown2"
								data-bs-toggle="dropdown"
								aria-expanded="false"
							>
								{{ LANGUAGE_CODE|language_name_local }}
							</button>
							<ul class="dropdown-menu" aria-labelledby="langDropdown2">
								{% for lang_code, lang_name in LANGUAGES %}
								<li 
									class="dropdown-item cursor-pointer 
									{% if LANGUAGE_CODE == lang_code %} active {% endif %}"
								>
									{% with flag_url="icons/"|addstr:lang_code|addstr:".svg" %}
										<button 
											class="no-style-button text-start w-100"
											{% if lang_code != LANGUAGE_CODE %}
											type="submit" 
											name="language" 
											value="{{ lang_code }}" 
											{% else %}
											type="button"
											{% endif %}
										>
											<img class="me-1 header__flag" src="{% static flag_url %}" alt="{{ lang_name }} {% trans 'flag' %}" />
											<span>{{ lang_name }}</span>
										</button>
									{% endwith %}
								</li>
								{% endfor %}
							</ul>
						</form>
					</div>
					{% if user.is_authenticated %}
					<ul class="list-inline mb-1">
						<li class="list-inline-item text-end">
							<a href="{{ notifs_url }}" class="header-notifs-link">
								<svg class="header-notifs-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="50" height="50" viewBox="0 0 390 390" xml:space="preserve">
									<g style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(-1.6111111111111143 -1.6111111111111143) scale(3.22 3.22)" >
										<path d="M 83.25 74.548 H 6.75 c -1.536 0 -2.864 -0.988 -3.306 -2.457 c -0.441 -1.468 0.122 -3.022 1.401 -3.868 c 0.896 -0.594 1.954 -1.152 3.233 -1.707 c 5.52 -2.514 6.42 -16.025 7.144 -26.882 c 0.182 -2.74 0.355 -5.327 0.59 -7.664 c 1.926 -12.752 8.052 -20.942 18.223 -24.424 C 35.767 3.067 40.169 0 45 0 s 9.233 3.067 10.964 7.546 c 10.171 3.482 16.298 11.671 18.214 24.352 c 0.245 2.409 0.416 4.996 0.6 7.736 c 0.723 10.857 1.624 24.368 7.168 26.893 c 1.255 0.544 2.313 1.102 3.21 1.696 c 1.279 0.846 1.842 2.4 1.4 3.868 C 86.114 73.56 84.785 74.548 83.25 74.548 z M 45 2.934 c -3.818 0 -7.279 2.556 -8.416 6.215 l -0.228 0.733 l -0.732 0.231 c -9.568 3.018 -15.096 10.287 -16.9 22.224 c -0.221 2.216 -0.392 4.779 -0.573 7.493 c -0.816 12.242 -1.74 26.117 -8.88 29.368 c -1.129 0.49 -2.064 0.982 -2.806 1.473 c -0.265 0.175 -0.26 0.409 -0.21 0.575 c 0.051 0.168 0.177 0.368 0.496 0.368 h 76.5 c 0.318 0 0.445 -0.2 0.496 -0.368 c 0.05 -0.166 0.054 -0.4 -0.209 -0.575 h -0.001 c -0.741 -0.491 -1.677 -0.983 -2.782 -1.462 c -7.163 -3.261 -8.088 -17.137 -8.905 -29.379 c -0.181 -2.714 -0.352 -5.277 -0.582 -7.565 c -1.795 -11.864 -7.323 -19.134 -16.891 -22.151 l -0.732 -0.231 L 53.416 9.15 C 52.279 5.49 48.818 2.934 45 2.934 z" style="stroke: {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} black {% else %} white {% endif %}; stroke-width: 2; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} black {% else %} white {% endif %}; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
										<path d="M 33.257 78.292 C 33.277 84.75 38.536 90 45 90 c 6.463 0 11.723 -5.25 11.743 -11.708 H 33.257 z M 45 87.066 c -3.816 0 -7.063 -2.443 -8.285 -5.843 h 16.57 C 52.063 84.623 48.816 87.066 45 87.066 z" style="stroke: {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} black {% else %} white {% endif %}; stroke-width: 2; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} black {% else %} white {% endif %}; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
									</g>
								</svg>
								<span class="d-block header-notifs-link__text {% if '/my-notifications/' in request.path or '/mes-notifications/' in request.path %} link-dark fw-bold {% else %} link-light {% endif %}">{% trans 'Notifications' %}</span>
								{% if user.notifications.unread %}
									<span class="position-absolute translate-middle p-1 rounded-circle bg-warning border" style="top:.8rem; right:6.1rem;">
										<span class="visually-hidden">{% trans 'New notifications' %}</span>
									</span>
								{% endif %}
							</a>
						</li>
						<li class="list-inline-item dropdown ms-2 text-center js-headerAccountInfo">
							<a
								class="header-profile-menu"
								id="profileMenu2"
								data-bs-toggle="dropdown"
								aria-expanded="false"
								role="button"
								tabindex="0"
							>
								<svg class="header-profile-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" width="40" height="40" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M17 1.7C11.5335 1.7 6.48243 4.61655 3.74917 9.35C1.0172 14.0835 1.0172 19.9165 3.74917 24.65C6.48246 29.3835 11.5335 32.3 17 32.3C20.4918 32.3133 23.8809 31.1193 26.5917 28.9199C29.9014 26.2557 31.9559 22.3365 32.2602 18.0984C32.5657 13.8603 31.0954 9.68748 28.2003 6.57682C25.3063 3.46636 21.249 1.69986 17.0003 1.69986L17 1.7ZM27.9956 24.411C27.2651 22.1412 25.014 20.2514 21.9925 19.2447C20.7069 20.6405 18.8967 21.4361 17 21.4361C15.1021 21.4347 13.292 20.6405 12.0074 19.2447C8.98463 20.2514 6.73335 22.1413 6.00439 24.411C4.20212 21.7388 3.43579 18.5008 3.8475 15.3041C4.25921 12.1073 5.82242 9.17082 8.24234 7.04174C10.6622 4.91276 13.7752 3.7387 16.9987 3.7387C20.2221 3.7387 23.3353 4.91276 25.7564 7.04041C28.1763 9.16939 29.7395 12.1057 30.1513 15.3027C30.563 18.4995 29.7966 21.7376 27.9957 24.411L27.9956 24.411Z" fill="{% if '/users/' in request.path or '/utilisateurs/' in request.path %} black {% else %} white {% endif %}"></path>
									<path d="M22.5049 13.6092C22.5049 16.9919 20.0399 19.736 17 19.736C13.9586 19.736 11.4937 16.9921 11.4937 13.6092C11.4937 10.2251 13.9587 7.48236 17 7.48236C20.0401 7.48236 22.5049 10.2249 22.5049 13.6092Z" fill="{% if '/users/' in request.path or '/utilisateurs/' in request.path %} black {% else %} white {% endif %}"></path>
								</svg>
								<br>
								<span class="dropdown-toggle {% if '/users/' in request.path or '/utilisateurs/' in request.path %} text-dark fw-bold {% endif %}">
									{% trans 'My Account' %}
									{% comment %} <i class="fas fa-angle-down" aria-hidden="true"></i> {% endcomment %}
								</span>
							</a>
							<div class="dropdown-menu dropdown-menu-end" aria-labelledby="profileMenu2">
								<div class="px-4 py-2">
									<a href="{% url 'users:profile-dashboard' %}" class="link-profile header-profile-info">
										<span class="d-block">{{ user.username }}</span>
										<span class="small text-dark">{{ user.full_name|truncatechars:18 }}</span>
									</a>
								</div>
								<hr class="dropdown-divider">
								<a href="{% url 'users:profile-dashboard' %}" class="dropdown-item">
									{% trans "Dashboard" %}
								</a>
								<a href="{% url 'users:profile-dashboard' %}" class="dropdown-item">
									{% trans "View Profile" %}
								</a>
								<a href="{% url 'users:edit-profile' username=user.username %}" class="dropdown-item">{% trans "Update Profile" %}</a>
								<hr class="dropdown-divider">
								<form action="{% url 'users:logout' %}" method="post">
									{% csrf_token %}
									<button type="submit" class="dropdown-item link-danger">{% trans 'Logout' %}</button>
								</form>
							</div>
						</li>
					</ul>
					{% else %}
					<ul class="list-inline my-2">
						<li class="list-inline-item">
							<a href="{% url 'users:register' %}" class="btn btn-sm link-light fw-bolder register-button">{% trans 'REGISTER' %}</a>
						</li>
						<li class="list-inline-item">
							<a href="{% url 'users:login' %}?next={{ request.get_full_path }}" class="btn btn-sm bg-purple link-light fw-bolder login-button">{% trans 'LOGIN' %}</a>
						</li>
					</ul> 
					{% endif %}
				</div>

				<div class="collapse navbar-collapse" id="navbarContent">
					<ul class="navbar-nav nav-fill w-100 mb-2 mb-lg-0 align-items-center nav-menu" role="navigation">
						<li class="nav-item my-1">
							{% url 'core:home' as home_url %}
							<a class="nav-link nav-menu__link {% if request.path == home_url %} nav-menu__link--current" aria-current="page" {% endif %}"  href="{{ home_url }}">
								{% trans 'Home' %}
							</a>
						</li>
						<li class="nav-item my-1 dropdown js-headerDropdown">
							<a
								id="buySellItem"
								class="nav-link dropdown-toggle nav-menu__link {% if '/items/' in request.path or '/articles/' in request.path %} nav-menu__link--current" aria-current="page" {% endif %}"
								data-bs-toggle="dropdown"
								aria-expanded="false"
								role="button"
								tabindex="0"
							>
								{% trans 'Items for sale' %}
							</a>
							<div class="dropdown-menu" aria-labelledby="buySellItem">
								<a class="dropdown-item" href="{% url 'marketplace:item-listing-create' %}">{% trans 'Sell an item' %}</a>
								<a class="dropdown-item" href="{% url 'marketplace:item-listing-list' %}">{% trans 'View/Buy items' %}</a>
							</div>
						</li>
						<li class="nav-item my-1 dropdown js-headerDropdown">
							<a
								id="viewPostAdvert"
								class="nav-link dropdown-toggle nav-menu__link {% if '/adverts/' in request.path or '/annonces/' in request.path %} nav-menu__link--current" aria-current="page" {% endif %}"
								data-bs-toggle="dropdown"
								aria-expanded="false"
								role="button"
								tabindex="0"
							>
								{% trans 'Adverts' %}
							</a>
							<div class="dropdown-menu" aria-labelledby="viewPostAdvert">
								<a class="dropdown-item" href="{% url 'marketplace:ad-listing-create' %}">{% trans 'Post an advert' %}</a>
								<a class="dropdown-item" href="{% url 'marketplace:ad-listing-list' %}">{% trans 'All Adverts' %}</a>
							</div>
						</li>
						<li class="nav-item my-1 dropdown js-headerDropdown">
							<a
								id="requestedItems"
								class="nav-link dropdown-toggle nav-menu__link {% if '/requested-items/' in request.path or '/objets-demandés/' in request.path %} nav-menu__link--current" aria-current="page" {% endif %}"
								data-bs-toggle="dropdown"
								aria-expanded="false"
								role="button"
								tabindex="0"
							>
								{% trans 'Requested items' %}
							</a>
							<div class="dropdown-menu" aria-labelledby="requestedItems">
								<a class="dropdown-item" href="{% url 'requested_items:requested-item-create' %}">{% trans 'Request an item' %}</a>
								<a class="dropdown-item" href="{% url 'requested_items:requested-item-list' %}">{% trans 'All requested items' %}</a>
							</div>
						</li>
						<li class="nav-item my-1 dropdown js-headerDropdown">
							<a
								id="askQuestion"
								class="nav-link dropdown-toggle nav-menu__link {% if '/questions/' in request.path %} nav-menu__link--current" aria-current="page" {% endif %}"
								data-bs-toggle="dropdown"
								aria-expanded="false"
								role="button"
								tabindex="0"
							>
								{% trans 'Ask a question' %}
							</a>
							<div class="dropdown-menu" aria-labelledby="askQuestion">
								<a class="dropdown-item" href="{% url 'qa_site:academic-question-create' %}">{% trans 'Academic Question' %}</a>
								<a class="dropdown-item" href="{% url 'qa_site:discuss-question-create' %}">{% trans 'Discussion Question' %}</a>
								<a class="dropdown-item" href="{% url 'qa_site:questions-explain' %}">{% trans 'All Questions' %}</a>
							</div>
						</li>
						<li class="nav-item my-1 dropdown js-headerDropdown">
							<a
								id="lostFoundItems"
								class="nav-link dropdown-toggle nav-menu__link {% if '/lost-or-found/' in request.path or '/perdu-ou-trouvé/' in request.path %} nav-menu__link--current" aria-current="page" {% endif %}"
								data-bs-toggle="dropdown"
								aria-expanded="false"
								role="button"
								tabindex="0"
							>
								{% trans 'Lost/Found Items' %}
							</a>
							<div class="dropdown-menu" aria-labelledby="lostFoundItems">
								<a class="dropdown-item" href="{% url 'lost_or_found:lost-item-create' %}">{% trans 'Publish a lost item' %}</a>
								<a class="dropdown-item" href="{% url 'lost_or_found:lost-item-list' %}">{% trans 'View lost items' %}</a>
								<a class="dropdown-item" href="{% url 'lost_or_found:found-item-create' %}">{% trans 'Publish a found item' %}</a>
								<a class="dropdown-item" href="{% url 'lost_or_found:found-item-list' %}">{% trans 'View found items' %}</a>
							</div>
						</li>
						<li class="nav-item my-1 dropdown js-headerDropdown">
							<a
								id="pastPapers"
								class="nav-link dropdown-toggle nav-menu__link {% if '/past-papers/' in request.path or '/anciens-sujets/' in request.path %} nav-menu__link--current" aria-current="page" {% endif %}"
								data-bs-toggle="dropdown"
								aria-expanded="false"
								role="button"
								tabindex="0"
							>
								{% trans 'Past Papers' %}
							</a>
							<div class="dropdown-menu" aria-labelledby="pastPapers">
								<a class="dropdown-item" href="{% url 'past_papers:past-paper-upload' %}">{% trans 'Upload a past paper' context 'dropdown child' %}</a>
								<a class="dropdown-item" href="{% url 'past_papers:past-paper-list' %}">{% trans 'Past papers' %}</a>
							</div>
						</li>
						<li class="nav-item my-1 dropdown js-headerDropdown">
							<a
								id="socialize"
								class="nav-link dropdown-toggle nav-menu__link {% if '/socialize/' in request.path or '/socialiser/' in request.path %} nav-menu__link--current" aria-current="page" {% endif %}"
								data-bs-toggle="dropdown"
								aria-expanded="false"
								role="button"
								tabindex="0"
							>
								{% trans 'Socialize' %}
							</a>
							<div class="dropdown-menu" aria-labelledby="socialize">
								{% if not user.social_profile %}
									<a class="dropdown-item" href="{% url 'socialize:create-profile' %}">{% trans 'Create social profile' %}</a>
								{% endif %}
								<a class="dropdown-item" href="{% url 'socialize:find-friend' %}">{% trans 'Find a pal' %}</a>
								{% if user.social_profile %}
									<a class="dropdown-item" href="{% url 'socialize:view-profile' username=user.username %}">{% trans 'View social profile' %}</a>
									<a class="dropdown-item" href="{% url 'socialize:update-profile' username=user.username %}">{% trans 'Update social profile' %}</a>
								{% endif %}
							</div>
						</li>
					</ul>
					<form class="d-flex my-2 d-lg-none" method="get" action="{% url 'core:site-search' %}">
						<input name="keywords" class="form-control me-2" type="search" placeholder="{% trans 'Search' %}" aria-label="{% trans 'Search' %}">
						<button class="btn btn-outline-success form-submit-button" type="submit">{% trans 'Search' %}</button>
					</form>
				</div>
			</nav>
		</div>
	</header>
	{% endblock %}

  	{% block institution_searchbox %}
	{% comment %} <div class="container pt-3 pb-2 mb-4 institution-searchbox">
		<form method="get" class="institution-search-form">
			<div class="row">
				<div class="col-md-3 mb-2">
					<select class="form-select" aria-label="{% trans 'Select institution' %}">
					  <option value="state-institution" selected>{% trans 'State institution' %}</option>
					  <option value="private-institution">{% trans 'Private institution' %}</option>
					</select>
				</div>
				<div class="col mb-2">
					<select class="form-select institution-list js-institution-list">
					</select>
				</div>
				<div class="col-md-auto">
					<button type="submit" class="btn btn-success form-submit-button institution-search-form__submit-button">{% trans 'View' %}</button>
				</div>
			</div>
		</form>
	</div> {% endcomment %}
	{% endblock %}

	{% block content %}
	{% endblock %}

	{% block footer %}
	<footer class="d-flex flex-column text-center p-3 footer">
		{# site links #}
		<ul class="list-inline mt-4">
			<li class="list-inline-item pe-5">
				<a href="{% url 'core:home' %}" class="text-decoration-none footer__link">
					{% trans 'Home' %}
				</a>
			</li>
			<li class="list-inline-item pe-5">
				<a href="{% url 'core:usage-info' %}" class="text-decoration-none footer__link">
					{% trans 'About' %}
				</a>
			</li>
			<li class="list-inline-item pe-5">
				<a href="{% url 'core:terms-conditions' %}" class="text-decoration-none footer__link">
					{% trans 'Terms' %}
				</a>
			</li>
			<li class="list-inline-item pe-5">
				<a href="{% url 'core:privacy-policy' %}" class="text-decoration-none footer__link">
					{% trans 'Privacy' %}
				</a>
			</li>
			<li class="list-inline-item">
				<a href="#" class="text-decoration-none footer__link">
					{% trans 'Contact Us' %}
				</a>
			</li>
		</ul>

		{# social links #}
		<ul class="list-inline mt-3 mb-4">
			<li class="list-inline-item">
				<a href="https://facebook.com/camerschools" class="text-decoration-none footer__link">
					<span class="footer-ico-wrp" style="color: #295fcc;">
						<span class="fa-stack fa-2x">
							<i class="fas fa-circle-thin fa-stack-2x"></i>
							<i class="fab fa-facebook fa-stack-1x"></i>
						</span>
					</span>
					<span class="visually-hidden">Facebook</span>
				</a>
			</li>
			<li class="list-inline-item">
				<a href="https://wa.me/237{{ 65222222 }}" class="text-decoration-none footer__link">
					<span class="footer-ico-wrp" style="color: #5ECC64;">
						<span class="fa-stack fa-2x">
							<i class="fas fa-circle-thin fa-stack-2x"></i>
							<i class="fab fa-whatsapp fa-stack-1x"></i>
						</span>
					</span>
					<span class="visually-hidden">WhatsApp</span>
				</a>
			</li>
			<li class="list-inline-item">
				<a href="https://twitter.com/camerschools" class="text-decoration-none footer__link">
					{% comment %} #4aa1f2 {% endcomment %}
					<span class="footer-ico-wrp" style="color: Dodgerblue;">
						<span class="fa-stack fa-2x">
							<i class="fas fa-circle-thin fa-stack-2x"></i>
							<i class="fab fa-twitter fa-stack-1x"></i>
						</span>
					</span>
					<span class="visually-hidden">Twitter</span>
				</a>
			</li>
			<li class="list-inline-item">
				<a href="mailto:camerschools@gmail.com" class="text-decoration-none footer__link">
					<span class="footer-ico-wrp" style="color: #d93025;">
						<span class="fa-stack fa-2x">
							<i class="fas fa-circle-thin fa-stack-2x"></i>
							<i class="far fa-envelope fa-stack-1x"></i>
						</span>
					</span>
					<span class="visually-hidden">Email</span>
				</a>
			</li>
		</ul>

		{# select menus #}
		<div class="mt-3 mb-5 d-flex justify-content-evenly">
			<div>
				<div class="footer-select-wrp js-footer-select-wrp" style="width: 252px;">
					{# Create hidden form that will be used to submit country choice #}
					<form id="footer-country-form" class="d-none" action="{% url 'core:set-session-country' %}" method="post">
						{% csrf_token %}
						{# pass current url to view #}
						<input type="hidden" name="next" value="{{ request.path }}" />
					</form>
					<select name="country_code" class="footer-select js-footer-select--country" form="footer-country-form">
						{% if session_country %}
							<option value="{{ session_country.code }}">
								{{ session_country.name }}
							</option>
						{% else %}
							<option value="---">
								{% trans 'No particular country' %}
							</option>
						{% endif %}

						{# Display general country code as first option #}
						<option value="---" {% if not session_country %} selected {% endif %}>
							{% trans 'No particular country' %}
						</option>
						{% for country in countries %}
							<option 
								value="{{ country.code }}" 
								{% if country.code == session_country.code %} selected {% endif %}
							>
								{{ country }}
							</option>
						{% endfor %}
					</select>
				</div>
				<span 
					class="ms-2 text-light" 
					data-bs-toggle="tooltip" 
					data-bs-placement="right" 
					title="{% blocktrans %} 
					For the academic questions and projects sections, all posts will be displayed.
					{% endblocktrans %}"
				>
					<i class="fas fa-info-circle"></i>
					<span class="visually-hidden">{% trans 'Country select info' %}</span>
				</span>
			</div>
			<div class="footer-select-wrp js-footer-select-wrp" style="width: 200px;">
				{# Create hidden form that will be used to submit language selection #}
				<form id="footer-language-form" class="d-none" action="{% url 'set_language' %}" method="post">
					{% csrf_token %}
				</form>
				<select 
					name="language" 
					form="footer-language-form" 
					class="footer-select js-footer-select--language"
				>
					<option value="{{ LANGUAGE_CODE }}">
						{{ LANGUAGE_CODE|language_name_local }}
					</option>
					{% for lang_code, lang_name in LANGUAGES %}
						<option 
							value="{{ lang_code }}" 
							{% if LANGUAGE_CODE == lang_code %} selected {% endif %}
						>
							{{ lang_name }}
						</option>
					{% endfor %}
				</select>
			</div>
		</div>

		{# copyright info #}
		<div class="footer-legal">
			<p class="small text-secondary">
				{% trans 'Copyright' %} &copy {% now 'Y' %} CamerSchools
			</p>
			{% comment %} <p class="small text-secondary">
				{% trans 'All Names, Acronyms and Trademarks displayed on this website are those of their respective owners.' %}
			</p> {% endcomment %}
		</div>
	</footer>
	{% endblock %}
	
	<script type="text/javascript" src="{% static 'js/base.js' %}"></script>
	<!-- <script type="text/javascript" src="{% static 'minified/js/base.min.js' %}"></script> -->
	{% comment %} <script>
		/* load selectize files if no other instance is present */
		if (typeof Selectize === 'undefined') {
			var head = document.getElementsByTagName('head')[0];
			var js = document.createElement("script"), css = document.createElement("link");
			
			js.type = "text/javascript";
			// https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.13.6/js/standalone/selectize.min.js 
			js.src = "{% static 'js/selectize.min.js' %}";
			head.appendChild(js);

			css.rel = "stylesheet";
			// https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.13.6/css/selectize.bootstrap5.min.css
			css.href = "{% static 'css/selectize.bootstrap5.min.css' %}";
			head.appendChild(css);
		}
	</script> {% endcomment %}
	{% block extra_js %}
	{% endblock %}
</body>
</html>
