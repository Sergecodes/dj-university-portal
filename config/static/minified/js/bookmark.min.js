$(".js-bookmark-button").click(function(c){if(!userId)return displayLoginRequiredToast(),!1;var b=$(this).children("i");c=parseInt(this.dataset.id,10);b.hasClass("js-selected")?$.ajax({url:bookmarkUrl,type:"POST",data:{id:c,action:"recall-bookmark"},dataType:"json",beforeSend:function(a){a.setRequestHeader("X-CSRFToken",csrfToken)},success:function(a){a.unbookmarked?(b.removeClass("fas js-selected").addClass("far"),a=parseInt($bookmarkCounter.text(),10),$bookmarkCounter.text(a-1),b[0].nextSibling.textContent=
" "+bookmarkText,displayBookmarkToggleToast(!1)):(console.error(a),displayErrorOccurredToast())}}):$.ajax({url:bookmarkUrl,type:"POST",data:{id:c,action:"bookmark"},dataType:"json",beforeSend:function(a){a.setRequestHeader("X-CSRFToken",csrfToken)},success:function(a){a.bookmarked?(b.removeClass("far").addClass("fas js-selected"),a=parseInt($bookmarkCounter.text(),10),$bookmarkCounter.text(a+1),b[0].nextSibling.textContent=" "+bookmarkedText,displayBookmarkToggleToast(!0)):(console.error(a),displayErrorOccurredToast())}})});