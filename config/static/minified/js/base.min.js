var NAV_LINK_ACTIVE_COLOR="#0e1e0a",CURRENT_NAV_LINK_CLASS="nav-menu__link--current",MIN_PASSWORD_LENGTH=8,MIN_LISTING_PHOTOS=3,$window=$(window),lastWidth,isMobile=window.matchMedia("only screen and (max-width: 991.98px)").matches;
function headerDropdownHover(){var a=$(this).children(".dropdown-menu");a.show();var b=$(this).children("a:first-child");b.hasClass(CURRENT_NAV_LINK_CLASS)||b.css("color",NAV_LINK_ACTIVE_COLOR);b.attr("aria-expanded","true");a.is(":visible")&&a.parent().toggleClass("show")}
function headerDropdownClick(){var a=$(this).children(".dropdown-menu");a.show();var b=$(this).children("a:first-child");b.hasClass(CURRENT_NAV_LINK_CLASS)||b.css("color",NAV_LINK_ACTIVE_COLOR);b.attr("aria-expanded","true");a.css({position:"",inset:"",margin:"",transform:""})}function headerDropdownMouseLeave(a){$(this).children(".dropdown-menu").hide();a=$(this).children("a:first-child");a.hasClass(CURRENT_NAV_LINK_CLASS)||a.css("color","white");a.attr("aria-expanded","false")}
function headerAccountInfoHoverOrClick(a){a=$(this).children(".dropdown-menu-end");a.addClass("show");a.show();a.css({position:"absolute",inset:"0px auto auto 0px",margin:"0px",transform:"translate(-96px, 67px)"});a=$(this).children("a:first-child");a.attr("aria-expanded","true");a.css("filter","drop-shadow(rgba(255, 255, 255, 0.5) 0px 2px 5px)")}
function headerAccountInfoMouseLeave(){var a=$(this).children(".dropdown-menu-end");a.removeClass("show");a.hide();a=$(this).children("a:first-child");a.attr("aria-expanded","false");a.css("filter","")}function loginDropdownHoverOrClick(){var a=$(this).children(".dropdown-menu-end");a.addClass("show");a.show();a.css({position:"absolute",inset:"0px auto auto 0px",margin:"0px",transform:"translate(-235px, 40px)"})}
function loginDropdownMouseLeave(){var a=$(this).children(".dropdown-menu-end");a.removeClass("show");a.hide()}function isNumeric(a){return/^\d+$/.test(a)}function hasOnlySpacesAndDigits(a){return/^(?=.*\d)[\d ]+$/.test(a)}function validateUsername(a){return/^[A-Z\u00c0-\u0178a-z]{4}[A-Z\u00c0-\u0178a-z0-9-_]{0,11}$/.test(a)}
function validateFullName(a){return/^(?:[A-Z\u00c0-\u0178a-z]+(?:-[A-Z\u00c0-\u0178a-z]+)*)+[\s]+(?:[A-Z\u00c0-\u0178a-z]+(?:-[A-Z\u00c0-\u0178a-z]+)*)+[\s]*(?:[A-Z\u00c0-\u0178a-z]+(?:-[A-Z\u00c0-\u0178a-z]+)*)*$/.test(a)}
function signupAndEditSubmit(a){var b=$(".js-errors");b.text("");var c=a.target,d=a.data,e=!1,g=!1,f=!1,h=!1;"edit-profile-form"==c.name&&(h=!0);validateUsername(c.username.value)?e=!0:b.append("<p>"+d.usernameError+"</p>");validateFullName(c.full_name.value)?g=!0:b.append("<p>"+d.fullNameError+"</p>");"edit-profile-form"!=c.name&&(f=c.password1.value,c=c.password2.value,f.length<MIN_PASSWORD_LENGTH||isNumeric(f)?b.append("<p>"+d.passwordError+"</p>"):h=!0,f!==c&&(h=!1,b.append("<p>"+d.passwordMatchError+
"</p>")));var k=[];$("tbody .numberinput").each(function(n){k.push(this.value)});f=!0;for(c=0;c<k.length;c++)if(!hasOnlySpacesAndDigits(k[c])){f=!1;b.append("<p>"+d.phoneNumError+"</p>");break}var l=[];$("tbody .checkboxinput").each(function(){l.push(this.checked)});var m=l.length;for(c=0;c<m&&!l[c];c++)c==m-1&&(f=!1,b.append("<p>"+d.whatsAppError+"</p>"));f&&h&&g&&e||(a.preventDefault(),b.addClass("alert alert-danger"),alert(d.alertContent),document.querySelector("a[name='top']").click(),window.history.replaceState({},
document.title,"."))}
function itemListingFormSubmit(a){var b=a.data,c=a.target.price.value,d=!1,e=!1;$(".js-gallery > .js-photo-wrp").length>=MIN_LISTING_PHOTOS&&(e=!0);hasOnlySpacesAndDigits(c)&&(d=!0);e&&d||alert(b.alertContent);c=$(".js-photo-errors");e?(c.text(""),c.removeClass()):(a.preventDefault(),c.text("").addClass("alert alert-danger"),c.append("<p>"+b.photoError+"</p>"));e=$(".js-price-errors");d?(e.text(""),e.removeClass()):(a.preventDefault(),e.text("").addClass("alert alert-danger"),e.append("<p>"+b.priceError+
"</p>"))}function insertItemSubCategories(a){var b=parseInt($(".js-category").first().val(),10),c=$(".js-subcategory");$.ajax({url:a.data.url,data:{category_id:b},dataType:"json",success:function(d){d=d.sub_categories;c.empty();$.each(d,function(e,g){c.append("<option value="+g.id+">"+g.name+"</option>")});c.prepend(" \t\t\t\t<option value='' selected='selected'> \t\t\t\t\t--------- \t\t\t\t</option>")}})}
function insertConditionHelpText(a){var b=$(".js-condition").first(),c=b.val();a="<span class='form-text text-muted'>"+a.data.conditions[c]+"</span>";b.parent().children("span:last-child").remove();b.after(a)}function onConditionChange(a){a=a.target.value;var b=$(".js-descrLabelText").first().text(),c=b+"*",d=$(".js-condition-description").first(),e=d.prev();"N"===a?(e.text(b),d.removeAttr("required")):(e.text(c),d.attr("required",""))}
function expandImage(a){a.data.$images.css("border","none");a=a.target;$(a).css("border","2px inset #198754");$(".js-expanded-img").attr({src:a.src,alt:a.alt})}function displayLoginRequiredToast(){var a=$(".js-login-required-toast").first();a.css({color:"#842029","border-color":"#f5c2c7"});(new bootstrap.Toast(a[0])).show()}function displaySelfVoteToast(){var a=$(".js-self-vote-toast").first();a.css({color:"#842029","border-color":"#f5c2c7"});(new bootstrap.Toast(a[0])).show()}
function displayErrorOccurredToast(){var a=$(".js-error-occurred-toast").first();a.css({color:"#842029","border-color":"#f5c2c7"});(new bootstrap.Toast(a[0])).show()}function displayBookmarkToggleToast(a){a=a?$(".js-bookmark-added-toast").first():$(".js-bookmark-removed-toast").first();(new bootstrap.Toast(a[0])).show()}function displayFollowToggleToast(a){a=a?$(".js-followed-toast").first():$(".js-unfollowed-toast").first();(new bootstrap.Toast(a[0])).show()}
function displayCustomSuccessToast(a){var b=$(".js-custom-success-toast").first();$(".js-toast-message").html(a);(new bootstrap.Toast(b[0])).show()}function displayCustomErrorToast(a){var b=$(".js-custom-error-toast").first();b.css({color:"#842029","border-color":"#f5c2c7"});$(".js-toast-message").html(a);(new bootstrap.Toast(b[0])).show()}
function init(){var a=$(".js-headerDropdown"),b=$(".js-headerAccountInfo"),c=$(".js-loginDropdown");isMobile=window.matchMedia("only screen and (max-width: 991.98px)").matches;isMobile?isMobile&&(a.off(),b.off(),c.off()):(a.hover(headerDropdownHover,headerDropdownMouseLeave),a.click(headerDropdownClick),b.hover(headerAccountInfoHoverOrClick,headerAccountInfoMouseLeave),b.click(headerAccountInfoHoverOrClick),c.hover(loginDropdownHoverOrClick,loginDropdownMouseLeave),c.click(loginDropdownHoverOrClick))}
$window.on("resize",function(){var a=$(this).width();a!==lastWidth&&(lastWidth=a,init())});$(document).ready(function(){init();lastWidth=$window.width();$(".js-languageSelect").on("change",function(){$(this).closest("form").submit()})});